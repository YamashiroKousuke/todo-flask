{% extends 'base.html' %}
{% block title %}ToDo - 編集{% endblock %}
{% block content %}
  <div class="card">
    <div class="card-body">
      <h5 class="card-title mb-3">タスク編集 #{{ task.id }}</h5>
      <form method="post">
        <div class="row g-3">
          <div class="col-md-8">
            <label class="form-label">タイトル</label>
            <input class="form-control" name="title" value="{{ task.title }}" required>
          </div>
          <div class="col-md-4">
            <label class="form-label">期日</label>
            <input class="form-control" type="date" name="due" value="{{ task.due or '' }}">
            <div class="form-check mt-2">
              <input class="form-check-input" type="checkbox" id="clear_due" name="clear_due">
              <label class="form-check-label" for="clear_due">期日をクリア</label>
            </div>
          </div>
        </div>
        <div class="row g-3 mt-1">
          <div class="col-md-12">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="undone" name="undone" {% if not task.completed %}checked{% endif %}>
              <label class="form-check-label" for="undone">状態を未完了にする</label>
            </div>
          </div>
        </div>

        <div class="d-flex gap-2 mt-4">
          <button class="btn btn-primary" type="submit"><i class="bi bi-save me-1"></i>保存</button>
          <a class="btn btn-outline-secondary" href="{{ url_for('index') }}">キャンセル</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}

